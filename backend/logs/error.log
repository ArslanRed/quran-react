{"level":"error","message":"Health check failed: db.execute is not a function","service":"quran-admin-backend","stack":"TypeError: db.execute is not a function\n    at E:\\quran-react\\backend\\server.js:533:29\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (E:\\quran-react\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at E:\\quran-react\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (E:\\quran-react\\backend\\node_modules\\router\\index.js:582:12)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\index.js:291:5)\n    at E:\\quran-react\\backend\\server.js:100:3","timestamp":"2025-09-28T22:33:10.365Z"}
{"level":"error","message":"Find user by username error: this.db.execute is not a function","service":"quran-admin-backend","stack":"TypeError: this.db.execute is not a function\n    at UserService.findByUsername (E:\\quran-react\\backend\\services\\UserService.js:23:36)\n    at E:\\quran-react\\backend\\server.js:207:36\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:899:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:782:5","timestamp":"2025-09-28T23:08:38.659Z"}
{"level":"error","message":"Login error: this.db.execute is not a function","service":"quran-admin-backend","stack":"TypeError: this.db.execute is not a function\n    at UserService.findByUsername (E:\\quran-react\\backend\\services\\UserService.js:23:36)\n    at E:\\quran-react\\backend\\server.js:207:36\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:899:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:782:5","timestamp":"2025-09-28T23:08:38.661Z"}
{"level":"error","message":"Find user by username error: this.db.execute is not a function","service":"quran-admin-backend","stack":"TypeError: this.db.execute is not a function\n    at UserService.findByUsername (E:\\quran-react\\backend\\services\\UserService.js:23:36)\n    at E:\\quran-react\\backend\\server.js:207:36\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:899:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:782:5","timestamp":"2025-09-28T23:08:45.779Z"}
{"level":"error","message":"Login error: this.db.execute is not a function","service":"quran-admin-backend","stack":"TypeError: this.db.execute is not a function\n    at UserService.findByUsername (E:\\quran-react\\backend\\services\\UserService.js:23:36)\n    at E:\\quran-react\\backend\\server.js:207:36\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:899:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:782:5","timestamp":"2025-09-28T23:08:45.781Z"}
{"level":"error","message":"Find user by username error: this.db.execute is not a function","service":"quran-admin-backend","stack":"TypeError: this.db.execute is not a function\n    at UserService.findByUsername (E:\\quran-react\\backend\\services\\UserService.js:23:36)\n    at E:\\quran-react\\backend\\server.js:207:36\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:899:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:782:5","timestamp":"2025-09-28T23:09:07.598Z"}
{"level":"error","message":"Login error: this.db.execute is not a function","service":"quran-admin-backend","stack":"TypeError: this.db.execute is not a function\n    at UserService.findByUsername (E:\\quran-react\\backend\\services\\UserService.js:23:36)\n    at E:\\quran-react\\backend\\server.js:207:36\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:899:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async E:\\quran-react\\backend\\node_modules\\express-rate-limit\\dist\\index.cjs:782:5","timestamp":"2025-09-28T23:09:07.599Z"}
{"level":"error","message":"Health check failed: db.get is not a function","service":"quran-admin-backend","stack":"TypeError: db.get is not a function\n    at row (E:\\quran-react\\backend\\server.js:478:10)\n    at new Promise (<anonymous>)\n    at E:\\quran-react\\backend\\server.js:477:23\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (E:\\quran-react\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at E:\\quran-react\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (E:\\quran-react\\backend\\node_modules\\router\\index.js:582:12)","timestamp":"2025-09-29T01:17:31.987Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get all surahs error: no such table: surahs","service":"quran-admin-backend","stack":"SqliteError: no such table: surahs\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at SurahService.getAll (E:\\quran-react\\backend\\services\\SurahService.js:11:10)\n    at E:\\quran-react\\backend\\server.js:232:39\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateToken (E:\\quran-react\\backend\\server.js:125:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:26:05.633Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surahs error: no such table: surahs","service":"quran-admin-backend","stack":"SqliteError: no such table: surahs\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at SurahService.getAll (E:\\quran-react\\backend\\services\\SurahService.js:11:10)\n    at E:\\quran-react\\backend\\server.js:232:39\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateToken (E:\\quran-react\\backend\\server.js:125:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:26:05.636Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get all surahs error: no such table: surahs","service":"quran-admin-backend","stack":"SqliteError: no such table: surahs\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at SurahService.getAll (E:\\quran-react\\backend\\services\\SurahService.js:11:10)\n    at E:\\quran-react\\backend\\server.js:232:39\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateToken (E:\\quran-react\\backend\\server.js:125:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:32:38.832Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surahs error: no such table: surahs","service":"quran-admin-backend","stack":"SqliteError: no such table: surahs\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at SurahService.getAll (E:\\quran-react\\backend\\services\\SurahService.js:11:10)\n    at E:\\quran-react\\backend\\server.js:232:39\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateToken (E:\\quran-react\\backend\\server.js:125:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:32:38.833Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get all surahs error: no such table: surahs","service":"quran-admin-backend","stack":"SqliteError: no such table: surahs\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at SurahService.getAll (E:\\quran-react\\backend\\services\\SurahService.js:11:10)\n    at E:\\quran-react\\backend\\server.js:232:39\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateToken (E:\\quran-react\\backend\\server.js:125:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:33:49.604Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surahs error: no such table: surahs","service":"quran-admin-backend","stack":"SqliteError: no such table: surahs\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at SurahService.getAll (E:\\quran-react\\backend\\services\\SurahService.js:11:10)\n    at E:\\quran-react\\backend\\server.js:232:39\n    at Layer.handleRequest (E:\\quran-react\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\quran-react\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateToken (E:\\quran-react\\backend\\server.js:125:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:33:49.607Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get audio by ayah ID error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:01.958Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surah error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:01.959Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get audio by ayah ID error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:03.114Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surah error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:03.115Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get audio by ayah ID error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:09.566Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surah error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:09.567Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get audio by ayah ID error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:10.775Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surah error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:10.775Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get audio by ayah ID error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:15.192Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surah error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:15.193Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get audio by ayah ID error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:16.350Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surah error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:16.352Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get audio by ayah ID error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:25.210Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surah error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:25.211Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get audio by ayah ID error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:28.420Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surah error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:28.420Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get audio by ayah ID error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:29.136Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Get surah error: no such table: audio_files","service":"quran-admin-backend","stack":"SqliteError: no such table: audio_files\n    at Database.prepare (E:\\quran-react\\backend\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at AudioService.getByAyahId (E:\\quran-react\\backend\\services\\AudioService.js:23:28)\n    at E:\\quran-react\\backend\\server.js:255:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-29T01:43:29.138Z"}
